name: Propagar commits para repositórios pais

on:
  push:
    paths:
      - 'python/aritmetica/soma/**'

jobs:
  propagate:
    runs-on: ubuntu-latest

    steps:
    - name: Checar repositório
      uses: actions/checkout@v2

    - name: Propagar para o repositório python
      run: |
        git remote add python https://github.com/seu-usuario/python-repo.git
        git fetch python
        git checkout python/main
        git merge --no-ff HEAD --strategy-option=theirs
        git push python main

    - name: Propagar para o repositório aritmetica
      run: |
        git remote add aritmetica https://github.com/seu-usuario/aritmetica-repo.git
        git fetch aritmetica
        git checkout aritmetica/main
        git merge --no-ff HEAD --strategy-option=theirs
        git push aritmetica main

    - name: Propagar para o repositório estudos
      run: |
        git remote add estudos https://github.com/seu-usuario/estudos.git
        git fetch estudos
        git checkout estudos/main
        git merge --no-ff HEAD --strategy-option=theirs
        git push estudos main
